# Экономическая эффективность высшего образования в России

Интерактивное веб-приложение для анализа стоимости подготовки специалистов и сроков окупаемости инвестиций государства в высшее образование.

## О проекте

Проект представляет собой исследовательское веб-приложение, которое анализирует экономическую эффективность государственных инвестиций в высшее образование в России. Приложение позволяет:

- **Интерактивная визуализация данных** - графики и таблицы с результатами расчетов
- **Фильтрация данных** - по регионам, специальностям и уровням образования
- **Анализ окупаемости** - расчет сроков возврата инвестиций через налоговые поступления
- **Экспорт данных** - возможность экспорта данных исследования в JSON формате

## Цель исследования

Анализ экономической эффективности государственных инвестиций в высшее образование через расчет сроков окупаемости по различным регионам, специальностям и уровням образования.

Исследование позволяет оценить:
- Эффективность инвестиций в различные специальности
- Региональные различия в окупаемости образовательных инвестиций
- Влияние уровня образования (бакалавриат/магистратура) на сроки окупаемости
- Оптимальные направления для государственного финансирования

## Методология исследования

### Методика расчета

Исследование основано на расчете **срока окупаемости инвестиций** государства в образование. Срок окупаемости определяется как период, за который государство через налоговые поступления возвращает средства, инвестированные в подготовку специалиста.

### Формула расчета

```
Срок окупаемости = (Стоимость обучения × Продолжительность) / (Средняя зарплата × 12 × 0.13)
```

где:
- **Стоимость обучения** - бюджетные расходы на подготовку одного студента в год
- **Продолжительность** - длительность обучения (4 года для бакалавриата, 2 года для магистратуры)
- **Средняя зарплата** - средняя заработная плата по региону (данные Росстата за 2024 год)
- **0.13** - ставка НДФЛ (13%)

### Рассчитываемые величины

- **Годовая стоимость обучения** - бюджетные расходы на подготовку одного студента в год
- **Полная стоимость подготовки** - общие затраты за весь период обучения
- **Годовые налоговые отчисления** - НДФЛ с средней заработной платы по региону
- **Срок окупаемости** - количество лет, за которое государство возвращает инвестиции через налоги

### Данные исследования

- **7 регионов России**: Москва, Санкт-Петербург, Тверская область, Республика Татарстан, Свердловская область, Новосибирская область, Краснодарский край
- **6 специальностей**: Информатика и вычислительная техника, Экономика, Юриспруденция, Лечебное дело, Педагогическое образование, Инженерные специальности
- **2 уровня образования**: Бакалавриат (4 года), Магистратура (2 года)

### Источники данных

- **Росстат**: Данные о средней заработной плате по регионам России за 2024 год
- **НИУ ВШЭ**: Исследование стоимости подготовки студентов (475 600 рублей на одного студента в 2024 году)
- **Минобрнауки РФ**: Нормативы финансирования образовательных программ
- **Тверьстат**: Региональная статистика по Тверской области
- **Отчёты вузов**: Данные о стоимости обучения по различным направлениям подготовки

### Ключевые допущения

- Выпускник работает официально
- Получает среднюю по региону зарплату
- Налоговые ставки стабильны
- Отсутствие миграции в другие регионы

## Автор исследования

**Гордеев Роман Николаевич**, к.ф.-м.н.

## Tech Stack

This project is built using the following technologies:

### Основные технологии
- **Vite** - сборщик и dev-сервер
- **TypeScript** - типизированный JavaScript
- **React** - библиотека для создания пользовательских интерфейсов
- **shadcn-ui** - компоненты UI
- **Tailwind CSS** - утилитарный CSS фреймворк

### Визуализация данных
- **Recharts** - библиотека для создания интерактивных графиков

### Тестирование
- **Vitest** - unit тестирование
- **@testing-library/react** - тестирование React компонентов
- **Playwright** - визуальное регрессионное тестирование
- **@testing-library/jest-dom** - дополнительные матчеры для тестирования

### Дополнительные инструменты
- **React Router DOM** - маршрутизация (HashRouter для GitHub Pages)
- **tsx** - выполнение TypeScript файлов

## Требования

Убедитесь, что на вашей системе установлены Node.js и npm.

Рекомендуем использовать nvm для установки Node.js: [Руководство по установке nvm](https://github.com/nvm-sh/nvm#installing-and-updating)

## Установка зависимостей

```sh
npm install
```

## Сервер разработки

Запустите сервер разработки с горячей перезагрузкой и мгновенным предпросмотром:

```sh
npm run dev
```

Приложение будет доступно по адресу `http://localhost:8080` (или другому порту, если 8080 занят).

## Сборка проекта

Сборка для production:

```sh
npm run build
```

Собранные файлы будут находиться в папке `dist/`.

## Предпросмотр сборки

Предпросмотр собранного проекта:

```sh
npm run preview
```

## Структура проекта

```
src/
├── data/                           # Данные исследования
│   ├── research.ts                # Все данные исследования (regions, specialties, costs, kpi)
│   ├── research.test.ts           # Тесты валидации данных (19 тестов)
│   └── index.ts                   # Централизованный экспорт
│
├── features/                       # Функциональные модули
│   └── research/                  # Модуль исследования
│       ├── components/            # Компоненты исследования
│       │   ├── ResearchHeader.tsx # Заголовок страницы
│       │   ├── ResearchHeader.test.tsx
│       │   ├── KPICards.tsx       # KPI карточки
│       │   ├── ResearchTabs.tsx   # Контейнер табов
│       │   ├── ResearchTabs.test.tsx
│       │   ├── ResearchPage.tsx   # Главный компонент страницы
│       │   ├── ResearchPage.test.tsx
│       │   ├── MethodologyTab.tsx # Таб "Методика"
│       │   ├── MethodologyTab.test.tsx
│       │   ├── DataTab.tsx        # Таб "Данные"
│       │   ├── DataTab.test.tsx
│       │   ├── ResultsTab.tsx     # Таб "Результаты"
│       │   ├── ResultsTab.test.tsx
│       │   ├── AnalysisTab.tsx    # Таб "Анализ"
│       │   ├── AnalysisTab.test.tsx
│       │   ├── SensitivityTab.tsx # Таб "Чувствительность"
│       │   ├── SensitivityTab.test.tsx
│       │   ├── ConclusionsTab.tsx # Таб "Выводы"
│       │   ├── ConclusionsTab.test.tsx
│       │   └── Charts/            # Компоненты графиков
│       │       ├── PaybackChart.tsx
│       │       ├── PaybackChart.test.tsx
│       │       ├── SalaryChart.tsx
│       │       └── SalaryChart.test.tsx
│       ├── hooks/                  # Кастомные хуки
│       │   ├── usePaybackCalculation.ts
│       │   └── usePaybackCalculation.test.tsx (9 тестов)
│       ├── utils/                  # Утилиты
│       │   ├── calculations.ts    # Функции расчетов
│       │   └── calculations.test.ts (23 теста)
│       └── types/                  # TypeScript типы
│           └── research.ts
│
├── pages/                         # Страницы
│   ├── Index.tsx                  # Главная страница (композиция компонентов)
│   └── NotFound.tsx               # 404 страница
│
├── components/ui/                 # UI компоненты (shadcn/ui)
├── hooks/                         # Общие хуки
└── lib/                           # Утилиты
```

## Тестирование

Проект имеет полное тестовое покрытие с **97 тестами в 14 файлах**.

### Unit тесты

Запуск всех тестов:
```bash
npm test
```

Запуск тестов с UI:
```bash
npm run test:ui
```

Проверка покрытия кода:
```bash
npm run test:coverage
```

### Типы тестов

- **Unit тесты для функций расчетов** (23 теста) - проверка корректности расчетов окупаемости
- **Тесты для хуков** (9 тестов) - проверка мемоизации и работы хуков
- **Тесты для компонентов** (54 теста) - проверка рендеринга и интерактивности компонентов
- **Тесты для данных** (19 тестов) - валидация структуры и корректности данных исследования
- **Интеграционные тесты** (4 теста) - проверка взаимодействия компонентов

### Визуальное тестирование

Создание скриншотов для визуального регрессионного тестирования:
```bash
npm run test:visual
```

**Требования**: Для визуального тестирования необходим запущенный dev сервер (`npm run dev`)

Скриншоты сохраняются в `tests/visual-snapshots/`

## Деплой на GitHub Pages

### Автоматический деплой

Проект настроен на автоматический деплой на GitHub Pages при каждом push в ветку `main` или `master`. 

**URL сайта после публикации**: `https://rgordeev.github.io/education-roi/`

### Настройка GitHub Pages

Для активации автоматического деплоя необходимо выполнить следующие шаги:

1. **Включить GitHub Pages в настройках репозитория**:
   - Откройте репозиторий на GitHub
   - Перейдите в **Settings** → **Pages**
   - В разделе "Source" выберите **GitHub Actions** (не "Deploy from a branch")
   - Сохраните изменения

2. **Проверка первого деплоя**:
   - После включения GitHub Pages сделайте push в ветку `main`:
     ```bash
     git push origin main
     ```
   - Откройте вкладку **Actions** в репозитории
   - Дождитесь завершения workflow "Deploy to GitHub Pages" (обычно 2-5 минут)
   - После успешного деплоя сайт будет доступен по адресу: `https://rgordeev.github.io/education-roi/`

3. **Автоматические обновления**:
   - При каждом последующем push в `main` сайт будет автоматически обновляться
   - Статус деплоя можно отслеживать во вкладке **Actions**

### Конфигурация деплоя

- **Workflow файл**: `.github/workflows/deploy.yml`
- **Base path**: `/education-roi/` (соответствует имени репозитория)
- **Триггер**: push в ветки `main` или `master`
- **Сборка**: автоматическая через GitHub Actions

### Ручной деплой (опционально)

Для локальной сборки проекта с настройками для GitHub Pages:

```bash
VITE_BASE_PATH=/education-roi/ npm run build:gh-pages
```

Собранные файлы будут находиться в папке `dist/`.

**Важно**: При ручной сборке убедитесь, что `VITE_BASE_PATH` соответствует имени вашего репозитория.

## Лицензия

Проект создан в образовательных и исследовательских целях.
